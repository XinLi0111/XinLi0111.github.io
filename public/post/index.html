<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Li, Xin&#39;s Blog  | Articles</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.68.3" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/academic/dist/css/app.1cb140d8ba31d5b2f1114537dd04802a.css" rel="stylesheet">
    

    

    
      
    

    
    
      <link href="/academic/post/index.xml" rel="alternate" type="application/rss+xml" title="Li, Xin&#39;s Blog" />
      <link href="/academic/post/index.xml" rel="feed" type="application/rss+xml" title="Li, Xin&#39;s Blog" />
      
    
    
    <meta property="og:title" content="Articles" />
<meta property="og:description" content="所有文章" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://xinli0111.gitee.io/academic/post/" />
<meta property="og:updated_time" content="2017-03-02T12:00:00-05:00" />
<meta itemprop="name" content="Articles">
<meta itemprop="description" content="所有文章"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Articles"/>
<meta name="twitter:description" content="所有文章"/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  
  
  <header class="cover bg-top" style="background-image: url('https://xinli0111.gitee.io/academic/images/fengjing_chahua.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://xinli0111.gitee.io/academic" class="f3 fw2 hover-white no-underline white-90 dib">
      Li, Xin&#39;s Blog
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/academic/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/academic/post/" title="Articles page">
              Articles
            </a>
          </li>
          
        </ul>
      
      














    </div>
  </div>
</nav>

      <div class="tc-l pv4 pv6-l ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          Articles
        </h1>
        
          <h2 class="fw1 f5 f3-l white-80 measure-wide-l center mt3">
            所有文章
          </h2>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      

  <article class="pa3 pa4-ns nested-copy-line-height nested-img">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray">
      
    </section>
    <aside class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        April 4, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="https://xinli0111.gitee.io/academic/post/idba_ud%E6%8B%BC%E6%8E%A5%E6%98%86%E8%99%AB%E7%BA%BF%E7%B2%92%E4%BD%93%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E8%84%9A%E6%9C%AC/" class="link black dim">
        Idba_ud拼接昆虫线粒体全基因组脚本
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      idba_ud 是一个可以针对不同测序深度的短reads的基于交互式De Bruijin作图的从头拼接软件。他从小的k-mer开始到大的的k-mer步步前进，设定阈值，短的和低深度的contigs被删掉，这样来完成低深度和高深度的拼接。 拼接之前需要对原始下机数据进行清洗质控。 拼接后需要使用诱饵序列调取最终的拼接结果，所以这里将拼接过程和调取脚本合并于同一个脚本中。
 1. fastp质控  通常来说，二代测序公司返回的测序数据为clean data，即经过去除低质量测序数据后的数据。目前有公司已经不再返回clean data，而是直接返回下机数据raw data。这里将这一步也加入处理流程中。 生物信息中，一旦涉及到 fastq 数据的处理，通常都要消耗大量内存、CPU 和时间。从 fastq 文件中随机抽取数据。使用的工具是 seqtk，详细安装教程：http://www.genek.tv/article/28
  使用fastp软件。   它可以仅仅扫描 FASTQ 文件一次，就完成比FASTQC + cutadapt + Trimmomatic 这三个软件加起来还多很多的功能，而且速度上比仅仅使用 Trimmomatic 一个软件还要快 3 倍左右，因为它使用 C++开发，处处使用了高效算法，而且完美支持多线程！
 安装 安装 fastp 十分简单，如果你使用的是 Linux 系统，可以直接使用网站上提供的预编译好的版本，下载地址是http://opengene.org/fastp/fastp，可以使用 wget等命令进行下载，下载了之后记得使用 chmod a+x ./fastp 增加该文件的可执行权限，然后就可以使用了。也可以从源代码进行编译，需要使用 git 工具或者直接在网页上下载 release 的 源代码，以 git 下载最新的代码为例：git clone https://github.com/OpenGene/fastp.git cd fastp make sudo make install 使用 fastp -i in.
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        April 4, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="https://xinli0111.gitee.io/academic/post/snakemake%E5%88%9B%E5%BB%BAidba%E6%8B%BC%E6%8E%A5%E6%B5%81%E7%A8%8B/" class="link black dim">
        Snakemake创建idba拼接流程
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      上一篇文章中说到了自己写脚本创建的idba流程，但是在工作流程方面是有一些专门的软件存在。比如Next flow以及snakemake等，因为snakemake是以Python语言为主要书写语言，因此学习了snakemake。
 snakemake简介 snakemake是一个创建流程的工具，其最主要的部分就是一个个**&ldquo;rule&rdquo;**，一个rule就是一系列流程中的最基础的一步。每个rule简单来说就相当于一个shell脚本，主要由 input 、output 、shell 3个部分构成。多个rule之间由它们的 input 、 output 相互关系决定执行顺序。上一步的结果文件是下一步运行的条件。
#这是一个简单的snakemake rule示例，将两个文件合并为一个文件 rule concat: input: expand(&#34;{file}.txt&#34;, file=[&#34;hello&#34;, &#34;world&#34;]) output: &#34;merge.txt&#34; shell: &#34;cat {input} &gt; {output}&#34; snakemake安装 之前尝试过自己安装snakemake，但是遇到了不知名错误，在手机上使用termux安装并无异常。查阅报错信息和官方指导后，建议使用官方提供的方法：使用conda直接创建新环境安装 conda create -c bioconda -c conda-forge -n snakemake snakemake ，自己新建环境再安装snakemake遭遇了依赖无法解决的情况，不知道是最近版本问题还是一直都有问题。
激活snakemake环境 上一步已经安装好了新的conda环境——snakemake，在终端中使用 conda activate snakemake 激活snakemake环境。
snakemake参数简介 snakemake的参数还挺多的，具体的请参阅官方文档，这里仅作简介。
--snakefile, -s 指定Snakefile，否则是当前目录下的Snakefile --dryrun, -n 不真正执行，一般用来查看Snakefile是否有错 --printshellcmds, -p 输出要执行的shell命令 --reason, -r 输出每条rule执行的原因,默认FALSE --cores, --jobs, -j 指定运行的核数，若不指定，则使用最大的核数 --force, -f 重新运行第一条rule或指定的rule --forceall, -F 重新运行所有的rule，不管是否已经有输出结果 --forcerun, -R 重新执行Snakefile，当更新了rule时候使用此命令 #一些可视化命令 $ snakemake --dag | dot -Tsvg &gt; dag.
    </div>
  </div>

        </div>
      
    </aside>
    


  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://xinli0111.gitee.io/academic" >
    &copy;  Li, Xin's Blog 2020 
  </a>
    <div>













</div>
  </div>
</footer>

    

  <script src="/academic/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
